### üëã–î–ª—è —Å–≤—è–∑–∏ - –ø–∏—à–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –≤ TG: [@zakRash123](https://t.me/zakRash123) 

# üöÄ Crypto WebSOCKET Django PROJECT

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ –∏–∑ **Binance WebSOCKET API**  
–í–µ—Ä—Å–∏—è PYTHON 3.10
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è –≤ —Å—Ä–µ–¥–µ –õ–∏–Ω—É–∫—Å (–£–±—É–Ω—Ç—É 22.04), —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ  –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–π –û–°

‚úÖ –¢—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –∏—Ö –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —á–µ—Ä–µ–∑ WebSOCKET.  
‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É –∫–∞–∂–¥—ã–µ **15 —Å–µ–∫—É–Ω–¥**.  

–ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è **Django Channels**, **PGSQL** –∏ **Redis** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ WebSOCKET-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π.

---

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–µ–∫—Ç–∞

üîπ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSOCKET Binance API: `wss://stream.binance.com:9443/ws/btcusdt@trade`.  
üîπ –ü–µ—Ä–µ–¥–∞—á–∞ —Ü–µ–Ω –Ω–∞ BTC/USDT –≤ **—Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** —á–µ—Ä–µ–∑ WebSOCKET.  
üîπ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ **15 —Å–µ–∫—É–Ω–¥**.  
üîπ Django API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.  
üîπ –¢–µ—Å—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `pytest`, `pytest-django`, `pytest-asyncio`.  

---

## üìå –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```
git clone https://github.com/TrueAirRash/binance_ws_api_asker.git
cd binance_ws_api_asker
```
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```
python3 -m venv venv
source venv/bin/activate  # –¥–ª—è Linux
```
## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```
pip install -r requirements.txt
```
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è POSTGRESQL, –ø–æ—ç—Ç–æ–º—É —Å–Ω–∞—á–∞–ª–∞ —Å–ª–µ–¥—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä. –ó–∞—Ç–µ–º —Å–¥–µ–ª–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –ò–∑ –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —ç—Ç–æ–≥–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞ - —ç—Ç–æ:
```
sudo apt update
sudo apt install postgresql postgresql-contrib
```
–∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
```
sudo -u postgres psql
```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —à–∞–≥–∞ –≤ –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–æ–Ω—Å–æ–ª–∏ PGSQL –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–∫–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
```
CREATE DATABASE crypto_db;
CREATE USER crypto_user WITH PASSWORD 'my_pass_123';
ALTER ROLE crypto_user SET client_encoding TO 'utf8';
ALTER ROLE crypto_user SET default_transaction_isolation TO 'read committed';
ALTER ROLE crypto_user SET timezone TO 'UTC';
GRANT ALL PRIVILEGES ON DATABASE crypto_db TO crypto_user;
```

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```
python manage.py migrate
```
## –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ Django –∏ –ó–∞–ø—É—Å–∫ WebSOCKET-—Å–µ—Ä–≤–µ—Ä–∞
–ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
```
python3 manage.py runserver
```
–∏ (–¥–ª—è —Ä–∞–±–æ—Ç—ã WebSOCKET –≤ Django Channels –∏—Å–ø–æ–ª—å–∑—É–π Daphne):
```
daphne -b 0.0.0.0 -p 8001 cryp_proj.asgi:application
```
–ó–∞—Ç–µ–º —Å —Ä–∞–±–æ—á–µ–π –º–∞—à–∏–Ω—ã –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ 
```
http://127.0.0.1:8000/
```
–ò–ª–∏ –Ω–∞ 
```
http://127.0.0.1:8000/prices
```


## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 
```
pytest, pytest-asyncio, pytest-django.
```

‚úÖ –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
–ø–µ—Ä–µ–π—Ç–∏ –≤ PGSQL, –≤—ã–ø–æ–ª–Ω–∏–≤:  
```
sudo -u postgres psql
```
–≤ –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è –∫–æ–Ω—Å–æ–ª–∏ PGSQL –≤—ã–ø–æ–ª–Ω–∏—Ç—å: 
```
\du
```
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —Ñ–∏–≥—É—Ä–∏—Ä—É—é—â–µ–º—É –≤  settings.py (crypto_user), –¥–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∞–≤–∞: 
```
ALTER USER crypto_user CREATEDB;
```

‚úÖ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤. –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
```
pytest
```

### üëã–î–ª—è —Å–≤—è–∑–∏ - –ø–∏—à–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –≤ TG: [@zakRash123](https://t.me/zakRash123) 


